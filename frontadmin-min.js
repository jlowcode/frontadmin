/**
 * List JS
 *
 * @copyright: Copyright (C) 2005-2016  Media A-Team, Inc. - All rights reserved.
 * @license  : GNU/GPL http                         :                              //www.gnu.org/copyleft/gpl.html
 */
 define(["jquery","fab/list-plugin"],(function(n,t){return new Class({initialize:function(t){this.options=t;const i=n("th.heading.fabrik_ordercell.fabrik_actions")[0];n(i).find(".btn-group")[0]&&(this.setButtons(t.elements),this.setActionPanel(t.elements),n(document).ready((function(){n(document).on("mouseenter",".heading.fabrik_ordercell",(function(){n(this).find(":button.elementAdminButton").show()})).on("mouseleave",".heading.fabrik_ordercell",(function(){n(this).find(":button.elementAdminButton").hide()}))})))},createButton:function(t,i){var e=n('<button id="'+i+'" class="elementAdminButton" style="background-color: transparent;" type="button"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/><path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/></svg></button>');return e.on("click",(()=>{window.open(t,"_blank",menubar=!1)})),e},setButtons:function(t){for(var i in t)if(t.hasOwnProperty(i)){var e=n("th."+i),o=this.createButton(t[i],i+"_admin_button");o.hide(),e.append(o),e.css({"min-width":"120px"})}},setActionPanel:function(t){var i=this;const e=n('<a class="btn fabrik_view fabrik__rowlink btn-default"><i data-isicon="true" class="icon-play"></i> <span class="hidden">Admin</span></a>'),o=n("th.heading.fabrik_ordercell.fabrik_actions")[0],a=n(o).find(".btn-group")[0];var r=n(a),s=n('<button type="button">Editar Lista</button>'),l=n('<button type="button">Adicionar Elemento</button>');l.on("click",(()=>{window.open(i.options.listUrlAdd,"_blank",menubar=!1)})),l.css({border:"medium none",display:"block","min-height":"30px",padding:"0 12px","background-color":"#207CCD","font-size":"12px",width:"100%","text-align":"center","margin-top":"10px",color:"#FFF"}),s.on("click",(()=>{window.open(i.options.listUrl,"_blank",menubar=!1)})),s.css({border:"medium none",display:"inline-block","min-height":"30px",padding:"0 12px","background-color":"#207CCD","font-size":"12px",width:"100%","text-align":"center","margin-top":"10px",color:"#FFF"});var d=n("<div></div>");d.css({"font-size":"12px !important",position:"absolute","z-index":100,"background-color":"#FFF",display:"none",right:"20px",padding:"10px",border:"0.5px solid","border-radius":"4px"}),e.on("click",(function(){"none"==n(d).css("display")?n(d).css({display:"block"}):n(d).css({display:"none"})})),r.append(e);var c=n("<ul></ul>");n.each(t,(function(t,e){var o=n('<li style="font-size: 12px !important"></li>').css({"font-size":"12px !important"}).appendTo(c);n("<a/>").text(i.options.elementsNames[t]).css({cursor:"pointer","text-decoration":"underline",color:"#000 !important"}).appendTo(o).on("click",(()=>{window.open(e,"_blank",menubar=!1)}))})),c.append(s),c.append(l),d.append(c),r.append(d)}})}));